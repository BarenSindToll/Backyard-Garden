import {
  require_react
} from "./chunk-I22N4ZXF.js";
import {
  __toESM
} from "./chunk-ZC22LKFR.js";

// node_modules/react-use-image/dist/react-use-image.esm.js
var import_react = __toESM(require_react());
var useImage = function useImage2(src) {
  var ready = (0, import_react.useRef)(true);
  var _useState = (0, import_react.useState)(false), loaded = _useState[0], setLoaded = _useState[1];
  var _useState2 = (0, import_react.useState)(false), failed = _useState2[0], setFailed = _useState2[1];
  var _useState3 = (0, import_react.useState)({
    width: 0,
    height: 0
  }), dimensions = _useState3[0], setDimensions = _useState3[1];
  (0, import_react.useEffect)(function() {
    var win = window;
    var Image = win.Image;
    if (!src || !Image) {
      return;
    }
    var image = new Image();
    function isSizedTarget(t) {
      return t && t.width !== void 0 && t.height !== void 0;
    }
    image.onload = function(event) {
      if (ready.current) {
        if (isSizedTarget(event.target)) {
          var _event$target = event.target, width = _event$target.width, height = _event$target.height;
          setLoaded(true);
          setDimensions({
            width,
            height
          });
        }
      }
    };
    image.onerror = function() {
      if (ready.current) {
        setLoaded(false);
        setFailed(true);
      }
    };
    image.src = src;
  }, [src]);
  (0, import_react.useEffect)(function() {
    return function() {
      ready.current = false;
    };
  }, []);
  return {
    loaded,
    failed,
    dimensions
  };
};
var react_use_image_esm_default = useImage;
export {
  react_use_image_esm_default as default
};
//# sourceMappingURL=react-use-image.js.map
